<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEAGO DESIGN</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Great+Vibes&family=Noto+Sans+KR:wght@300;400;900&family=Nanum+Brush+Script&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #c5a059; --bg: #000; }
        /* [메뉴 제어: 클릭 시에만 활성화] */
        .dropdown-content { display: none; position: absolute; background-color: #111; min-width: 140px; box-shadow: 0px 8px 16px rgba(0,0,0,0.8); z-index: 1001; border: 1px solid var(--gold); top: 50px; left: 0; border-radius: 5px; }
        .dropdown.active .dropdown-content { display: block; }

        /* [금속판 12초 주기 대각선 빛 효과] */
        .metal-plate { 
            display: block; margin: 40px auto; width: 90%; max-width: 800px; padding: 60px 20px; border-radius: 8px; 
            background: linear-gradient(135deg, #bf953f 0%, #fcf6ba 45%, #ffffff 50%, #fcf6ba 55%, #b38728 100%);
            background-size: 300% 300%;
            border: 3px solid #f1d384; box-shadow: 0 20px 50px rgba(0,0,0,0.8); text-align: center;
            animation: metal-shine 12s ease-in-out infinite;
        }
        @keyframes metal-shine {
            0% { background-position: 0% 0%; }
            10% { background-position: 100% 100%; }
            100% { background-position: 100% 100%; }
        }

        /* [글자 1px 검정 테두리 & 양각 입체감] */
        .wave-text { 
            display: block; font-family: 'Cinzel', serif; font-size: 3.8rem; font-weight: 900; letter-spacing: -2px; 
            color: #fff;
            text-shadow: 
                -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000, 
                3px 3px 5px rgba(0,0,0,0.7),
                -1px -1px 2px rgba(255,255,255,0.3);
            animation: move-up-down 3.5s ease-in-out infinite; 
        }
        @keyframes logo-shine { to { background-position: 200% center; } }
        
        nav ul { list-style: none; display: flex; gap: 20px; align-items: center; margin: 0; padding: 0; }
        /* [메뉴 제어: 호버 삭제, 오직 클릭 시 active 클래스로만 작동] */
        .dropbtn { padding: 10px 20px; border: 2px solid var(--gold); border-radius: 5px; color: #fff; font-weight: 900; background: transparent; cursor: pointer; font-size: 1rem; outline: none; }
        .dropdown-content { display: none; position: absolute; background-color: #111; min-width: 140px; box-shadow: 0px 8px 16px rgba(0,0,0,0.8); z-index: 1001; border: 1px solid var(--gold); top: 50px; left: 0; border-radius: 5px; }
        
        /* 호버 시 열리는 코드 삭제함 - 아래 active 클래스가 있어야만 열림 */
        .dropdown.active .dropdown-content { display: block; }

        .dropdown-content a { color: #ccc; padding: 12px 16px; text-decoration: none; display: block; font-size: 14px; font-weight: bold; }
        .dropdown-content a:hover { color: #fff; background: #222; }

        <script>
        /* 프로젝트 버튼 클릭 시에만 메뉴 고정/해제 스크립트 */
        document.addEventListener('DOMContentLoaded', function() {
            const dropbtn = document.querySelector('.dropbtn');
            const dropdown = document.querySelector('.dropdown');

            dropbtn.addEventListener('click', function(e) {
                e.stopPropagation(); // 클릭 이벤트가 밖으로 퍼지는 것 방지
                dropdown.classList.toggle('active'); // 클릭할 때마다 열림/닫힘 반복
            });

            // 메뉴 바깥쪽 클릭하면 자동으로 닫히게 설정
            window.addEventListener('click', function() {
                dropdown.classList.remove('active');
            });
        });
        </script>

        .call-btn { background: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728); color: #000 !important; padding: 10px 20px; border-radius: 5px; font-weight: 900; text-decoration: none; border: 1px solid #fff; }

        /* [2. 히어로 / 금속판 (사장님 오리지널 유지)] */
        .hero-box { width: 100%; height: 60vh; overflow: hidden; border-bottom: 12px solid; border-image: repeating-linear-gradient(-45deg, #8a6d3b 0px, #bf953f 2px, #fcf6ba 4px) 1; }
        .hero-box img { width: 100%; height: 100%; object-fit: cover; }
        .metal-plate { display: block; margin: 40px auto; width: 90%; max-width: 800px; padding: 60px 20px; border-radius: 8px; background: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728); border: 3px solid #f1d384; box-shadow: 0 20px 50px rgba(0,0,0,0.8); text-align: center; }
        .wave-text { display: block; font-family: 'Cinzel', serif; font-size: 3.8rem; font-weight: 900; letter-spacing: -2px; background: linear-gradient(to right, #fcf6ba, #ffffff, #fcf6ba); -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: move-up-down 3.5s ease-in-out infinite; }
        @keyframes move-up-down { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* [3. 의뢰서 & 성공 레이어 - 글자 대폭 확대] */
        .offer-section { background-color: #e0e5ec; padding: 100px 20px; display: flex; justify-content: center; position: relative; }
        #main-section { width: 100%; max-width: 480px; padding: 50px 40px; background: #e0e5ec; border-radius: 40px; border: 1.5px solid #d4af37; box-shadow: 20px 20px 40px #bec3c9, -20px -20px 40px #ffffff; position: relative; }
        
        #success-overlay { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(224, 229, 236, 0.98); border-radius: 40px; 
            display: none; flex-direction: column; justify-content: center; 
            align-items: center; z-index: 2000; text-align: center; 
        }
        /* 사장님이 원하신 시원시원한 대왕 글씨 */
        .success-msg-main { font-family: 'Nanum Brush Script', cursive; font-size: 55px; color: #8f580a; margin-bottom: 20px; line-height: 1.2; }
        .success-msg-sub { font-size: 22px; font-weight: 900; color: #555; letter-spacing: -1px; }

        .offer-title { font-family: 'Nanum Brush Script', cursive; font-size: 42px; color: rgb(143, 88, 10); text-align: center; margin-bottom: 30px; }
        .field { margin-bottom: 22px; }
        .field label { display: block; font-size: 10px; color: #888; font-weight: bold; margin-bottom: 4px; }
        .offer-input, .offer-textarea { width: 100%; border: none; border-bottom: 2px solid #b0c4de; padding: 8px 0; font-size: 16px; background: transparent; color: #2c3e50; outline: none; }
        .offer-textarea { resize: none; overflow: hidden; min-height: 40px; }

        .email-notice-box { 
            width: 100%; padding: 25px 15px; margin: 30px 0; border-radius: 20px; 
            background: #e0e5ec; border: 1.5px solid #7f8c8d;
            box-shadow: inset 6px 6px 12px #bec3c9, inset -6px -6px 12px #ffffff; 
            text-align: center; box-sizing: border-box; 
        }
        .notice-text { font-size: 15px; font-weight: 900; color: #444; margin-bottom: 12px; display: block; }
        .copy-btn { padding: 8px 15px; font-size: 12px; background: #8B9DA2; color: #fff; border: none; border-radius: 5px; cursor: pointer; font-weight: 900; }
        .submit-btn { width: 100%; padding: 20px; background: #8B9DA2; color: #fff; border-radius: 12px; font-size: 22px; font-weight: 900; border: 1px solid #7f8c8d; cursor: pointer; }

        @media (max-width: 1024px) { nav { padding: 10px 15px; } .logo { font-size: 1.2rem; } .dropdown-content { top: 40px; } }
    </style>
</head>
<body>

<nav>
    <a href="#" class="logo">NEAGO DESIGN</a>
    <ul>
        <li class="dropdown">
            <button class="dropbtn">PROJECT ▼</button>
            <div class="dropdown-content">
                <a href="#lineup">시안보기</a>
                <a href="#order">의뢰하기</a>
            </div>
        </li>
        <li><a href="tel:010-7928-8645" class="call-btn">010-7928-8645</a></li>
    </ul>
</nav>

<div class="hero-box"><img src="https://github.com/kimsukpil1-collab/neago_design/blob/main/images/p1-s1-1.jpg?raw=true"></div>
<div class="metal-plate"><h1 class="wave-text">꿈을 디자인으로 이뤄 드립니다.</h1></div>

<section id="lineup" style="padding: 100px 20px; text-align: center;">
    <h2 style="font-family: 'Cinzel', serif; font-size: 3rem; color: var(--gold); margin-bottom: 50px;">LINE UP</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; max-width: 1400px; margin: 0 auto;">
        <img src="https://github.com/kimsukpil1-collab/neago_design/blob/main/images/p1-s2-1.jpg?raw=true" style="width:100%; border-radius:15px;">
        <img src="https://github.com/kimsukpil1-collab/neago_design/blob/main/images/p1-s2-2.jpg?raw=true" style="width:100%; border-radius:15px;">
        <img src="https://github.com/kimsukpil1-collab/neago_design/blob/main/images/p1-s2-3.jpg?raw=true" style="width:100%; border-radius:15px;">
    </div>
</section>

<section id="order" class="offer-section">
    <div id="main-section">
        <div id="success-overlay">
            <div class="success-msg-main">요청이 접수되었습니다!</div>
            <div class="success-msg-sub">24시간 내 답변 드리겠습니다.</div>
        </div>

        <h1 class="offer-title">디자인 의뢰서</h1>
        <div class="field"><label>NAME</label><input type="text" id="user-name" class="offer-input" placeholder="성함"></div>
        <div class="field"><label>CONTACT</label><input type="text" id="user-contact" class="offer-input" placeholder="연락처"></div>
        <div class="field">
            <label>MESSAGE</label>
            <textarea id="user-msg" class="offer-textarea" placeholder="문의 내용 (엔터 치면 자동으로 밀립니다)" oninput="autoResize(this)"></textarea>
        </div>
        
        <div class="email-notice-box">
            <span class="notice-text">첨부 파일은 이메일로 보내주세요.</span>
            <span id="my-email" style="font-weight: 900; color: #8f580a; display: block; margin-bottom: 12px; font-size: 14px;">kimsukpil1@gmail.com</span>
            <button class="copy-btn" onclick="copyEmail()">이메일 주소 복사</button>
        </div>
        
        <button class="submit-btn" onclick="handleFinalSubmit()">제 출 하 기</button>
    </div>
</section>

<script>
    // 텍스트 창 자동 확장 (하단이 툭툭 밀리는 기능)
    function autoResize(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = textarea.scrollHeight + 'px';
    }

    function copyEmail() {
        const email = document.getElementById('my-email').innerText;
        navigator.clipboard.writeText(email).then(() => {
            alert("이메일 주소가 복사되었습니다.\n이메일 앱에 붙여넣어 주세요!");
        });
    }

    // 이 함수가 날짜와 주문번호를 [01/14_1] 형식으로 만들어 전송하는 핵심입니다.
    async function handleFinalSubmit() {
        const name = document.getElementById('user-name').value;
        const contact = document.getElementById('user-contact').value;
        const message = document.getElementById('user-msg').value;

        // [핵심] 날짜 생성 (예: 01/14)
        const now = new Date();
        const dateStr = `${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')}`;
        
        // [핵심] 주문번호 카운팅 로직 (브라우저에 저장됨)
        let orderCount = localStorage.getItem('last_order_count') || 0;
        let lastOrderDate = localStorage.getItem('last_order_date');
        
        if (lastOrderDate !== dateStr) {
            orderCount = 1; // 날짜 바뀌면 1번부터 다시 시작
        } else {
            orderCount = parseInt(orderCount) + 1; // 오늘 주문이면 +1
        }
        
        localStorage.setItem('last_order_date', dateStr);
        localStorage.setItem('last_order_count', orderCount);

        // 텔레그램 정보
        const token = "8566107878:AAFdrgRT143Ym3WEGJwz0gHQDEePlSP_Vsk";
        const chatId = "7299827824";
        
        // 사장님이 원하신 [날짜_번호] 머리말 완성
        const titleTag = `[${dateStr}_${orderCount}]`;
        const text = `${titleTag}\n성함: ${name}\n연락처: ${contact}\n내용: ${message}`;

        // 성공 알림창 띄우기
        document.getElementById('success-overlay').style.display = 'flex';
        
        try {
            // 실제 전송
            await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: chatId, text: text })
            });
        } catch (e) { 
            console.error("전송 오류:", e); 
        }

        // 6초 뒤에 페이지 새로고침 (알림창 닫기 대용)
        setTimeout(() => { location.reload(); }, 6000);
    }
</script>
</body>
</html>
